# System Rules & Output Logic

This document defines how to interpret the data collected via the `Supplier Evaluation Template` and how to generate standardized outputs.

## 1. Automated Risk Flags (Red Flags)

The system parses the input data and **automatically** triggers alerts based on specific thresholds.

| Category | Flag Condition | Risk Level | Alert Message |
| :--- | :--- | :--- | :--- |
| **Scale** | `max_concurrent_users_tested` < 10% of Projected Audience | **CRITICAL** | "Proven scale insufficient for target audience." |
| **Scale** | `uptime_sla_percent` < 99.9% | HIGH | "SLA below industry standard for live events." |
| **Scale** | `recent_load_test_evidence` == No | HIGH | "No recent proof of load capability." |
| **Scale** | `has_auto_scaling` == No | **CRITICAL** | "Infrastructure is static; risk of crash during peaks." |
| **Security** | `lgpd_compliant` == No | **CRITICAL** | "Non-compliant with Data Privacy Laws." |
| **Security** | `has_penetration_test_report` == No | HIGH | "Security posture unverified." |
| **UX** | `mobile_responsive_score` < 7 | HIGH | "Poor mobile experience risks user churn." |
| **Product** | `real_time_updates` == No | MEDIUM | "Lag in updates will frustration users during games." |
| **Team** | `previous_world_cup_cases` == 0 | MEDIUM | "Supplier unverified in massive sports events." |
| **Commercial** | `pricing_model` == "Revenue Share" | WARNING | "Commercial model may conflict with long-term cost control." |

## 2. Recommendation Logic

Based on the aggregation of ratings and risks:

1.  **DISCARD**:
    *   IF any **CRITICAL** Risk is triggered.
    *   OR IF `Robustness` Rating < 3.
    *   OR IF `Security` Rating < 3.

2.  **PROCEED WITH CAUTION (or PoC)**:
    *   IF 0 Critical Risks.
    *   BUT > 2 HIGH Risks.
    *   OR `Team Experience` is low but `Tech` is high.

3.  **PROCEED**:
    *   IF 0 Critical Risks.
    *   AND < 2 HIGH Risks.
    *   AND Average Rating > 4.0.

## 3. Output Layers

The system generates the following outputs based on the processed inputs.

### A. Executive Summary Card (1-Pager)
*   **Header**: Supplier Name, Score (Avg of blocks), Risk Level.
*   **Key Strengths**: Top 3 rated blocks.
*   **Top Risks**: List of all triggering Red Flag messages.
*   **PMO Verdict**: One sentence summary of the `recommendation`.

### B. Comparative Matrix (For Multiple Suppliers)
*   **Rows**: Evaluation Blocks.
*   **Columns**: Suppliers.
*   **Cells**: 1-5 Rating + Critical Flags Icons (⚠️).
*   **Bottom Line**: Total Score & Estimated Cost (if provided).

### C. Risk Map
*   A categorized list of all identified risks across the evaluators, grouped by "Technical", "Business", and "Legal".

---

## Prompt Instructions (For LLM Analysis)

If using an LLM to process this evaluation:
1.  **Input**: Feed the filled [supplier_evaluation_template.md](file:///C:/Users/rodri/.gemini/antigravity/brain/c02acd62-85f8-4299-96d2-99cdc92c6808/supplier_evaluation_template.md) content.
2.  **Context**: "Act as a Senior Systems Architect and PMO."
3.  **Instruction**: "Apply the logic defined in `System Rules & Output Logic`. Extract the JSON data as per [supplier_schema.json](file:///C:/Users/rodri/.gemini/antigravity/brain/c02acd62-85f8-4299-96d2-99cdc92c6808/supplier_schema.json), then generate the `Executive Summary Card`."
